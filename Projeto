import csv

# preço de cada imovel

VALORES = {
    "apartamento": 700,
    "casa": 900,
    "estudio": 1200
}

# taxa fixa de cada contrato

CONTRATO = 2000

print("Escolha o tipo de imóvel:")
print("A - Apartamento")
print("B - Casa")
print("C - Estúdio")
opcao = int(input("Digite a opção: "))

if opcao == "A":
    tipo = "apartamento"
elif opcao == "B":
    tipo = "casa"
elif opcao == "C":
    tipo = "estudio"

aluguel = VALORES[tipo]


# caso quieira quartos extras

if tipo in ["apartamento", "casa"]:
    quartos = int(input("Digite a quantidade de quartos (1 ou 2): "))
    if tipo == "apartamento" and quartos == 2:
        aluguel += 200
    elif tipo == "casa" and quartos == 2:
        aluguel += 250

# Garagem em caso de ap/casa

if tipo in ["apartamento", "casa"]:
    garagem = input("Vc quer garegem no seu imovel? (s/n): ").lower()
    if garagem == "s":
        aluguel += 300


# Vagas de estacionamento (estúdio)

if tipo == "Estudio":
    vagas = int(input("Quantas vagas deseja? "))
    if vagas >= 1:
        aluguel += 250
    if vagas >= 2:
        aluguel += 250
    if vagas > 2:
        aluguel += (vagas - 2) * 60


# Desconto caso vc NÃO tenha crianças

if tipo == "apartamento":
    criancas = input("Possui crianças? (s/n): ").lower()
    if criancas == "n":
        aluguel *= 0.95  # desconto caso nao tenha criança


# Contrato

total = aluguel + CONTRATO
print(f"\nValor do aluguel: R$ {aluguel:.2f}")
print(f"Valor total (aluguel + contrato): R$ {total:.2f}")

# Parcelamento até 5 vezes do contrato
parcelas = int(input("Deseja parcelar o contrato em quantas vezes (1 a 5): "))
valor_parcela = CONTRATO / parcelas
print(f"Contrato parcelado em {parcelas}x de R$ {valor_parcela:.2f}")


# Gera um  csv de 12 parcelas

with open("orcamento.csv", "w", newline="") as arquivo:
    writer = csv.writer(arquivo)
    writer.writerow(["Mês", "Valor Mensal"])
    for mes in range(1, 13):
        writer.writerow([mes, f"{total/12:.2f}"])

print("\nArquivo 'orcamento.csv' gerado com sucesso!")
